<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>checkbox</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
        <link rel="stylesheet" type="text/css" href="../src/css/all.css">
        <script src="../checkBox.js"></script>  
        <style>
            .list-free{
              list-style: none;
            }
            .list-free > li{
              margin-bottom: 15px;
              background-color: #3c334e;
              padding: 20px;
              border-radius: 5px;
            }
            .controls {
              display : inline-flex;
              align-items: center;
            }
            button, .btn-num {
              border: none;
              padding: 10px;
              max-width: 100px;
              outline: none;
            }
            .checkbox-wrapper {
                display: inline-flex;
                width: fit-content;
                align-items: center;
                gap: .2em;
            }
            
            [data-role="checkbox-list"] {
              display: inline-flex;
              align-items: center;
              gap: .5em;  
              padding: .5em;
            }
              
            [data-role="checkbox-list"] [marker] {
              width: 20px;
              height: 20px;  
            }
            
            [checkbox] {
              display: inline-flex;
              border: dotted 2px #7975a4dc;  
              border-radius: 100vh;  
              padding: 4px;  
            }
            
            [checkbox] [marker] {
              width: 20px;
              height: 20px; 
              border-radius: inherit;    
              background-color: currentColor;
            }

            table{
              width: 100%; 
              text-align: left;
            }
            table tr > :where(th, td){
              background-color: #2f2742;
              padding:6px;
            }
            table tr > th:nth-child(1){
              width: fit-content;
            }
            table tr > th:nth-child(1){
              border-top-left-radius: 10px;
            }

            .controls.specs{
              background-color: #e9e9ed;
            }
            .controls.specs input{
              outline:none;
              background-color: white;
            }
            .controls.specs button:hover{
              background-color: #c4c4c5;
            }
            .controls.specs button:nth-child(2){
              border-right: solid 1px #c4c4c5;
              border-left: solid 1px #c4c4c5;
            }

            .controls.specs > *{
              background-color: transparent;
              border:none;
            }
        </style>     
    </head>
    
    <body>
        <section class="side-bar">
          <span class="close flex mid">&times;</span>
          <div class="side-bar-fit"></div>
        </section>
        <section class="bc-deeper-blue">

            <div class="" style="font-size: 1.2em;"> <br>
                <h1 style="color:#51ceff">CheckBox.js</h1> <br>
                <h4 style="color:#51ceff">Navigation</h4> <br>
            </div>
            
            <div class="">
              Navigating a checklist item is only available for checklists that are uniquely defined with the <code class="bc c-note">"id"</code> attribute. 
              Once this attribute is successfully defined, we can easily apply any of the navigation controller methods on the checklist item. For example,
              the sample below uses the <code class="bcr c-note">prev()</code>, <code class="bcr c-note">next()</code>, 
              <code class="bcr c-note">stop()</code> and <code class="bcr c-note">switch()</code> checklist navigation controller methods.
            </div> <br>

            <div class="code">
              <div class="flex">
                <div class="code-x">
                  <span class="code-btn active" rel="view"><i class="bi-window"></i></span>
                  <span class="code-btn" rel="html">HTML</span>
                  <span class="code-btn" rel="js">JS</span>
                </div>
                <div class="">
                  <span class="copy-btn"><i class="bi-clipboard"></i></span>
                </div>
              </div>  
<pre class="html">  <!-- start html -->
<span class="tag">&lt;div <span>id="<span>checklist-1</span>" data-role="<span>checkbox-list</span>" data-bind="<span>radio</span>"</span>&gt;</span>

  <span class="comment">&lt;!--first checkbox section--&gt;</span>
  <span class="tag">&lt;div <span>data-role="<span>checkbox</span>"</span>&gt;</span>
    <span class="tag">&lt;div <span>checkbox data-color="<span>@#615c988d|lime</span>" data-func="<span>update</span>"</span>&gt;</span>
      <span class="tag">&lt;div <span>marker</span>&gt;&lt;/div&gt;</span>
      <span class="tag">&lt;div <span>marker</span>&gt;&lt;/div&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;input <span>type="<span>checkbox</span>"</span>&gt;</span>
  <span class="tag">&lt;/div&gt;</span> 
  
  <span class="comment">&lt;!--second checkbox section--&gt;</span>
  <span class="tag">&lt;div <span>data-role="<span>checkbox</span>"</span>&gt;</span>
    <span class="tag">&lt;div <span>checkbox data-color="<span>@#615c988d|lime</span>" data-func="<span>update</span>"</span>&gt;</span>
      <span class="tag">&lt;div <span>marker</span>&gt;&lt;/div&gt;</span>
      <span class="tag">&lt;div <span>marker</span>&gt;&lt;/div&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;input <span>type="<span>checkbox</span>"</span>&gt;</span>
  <span class="tag">&lt;/div&gt;</span>
  
  <span class="comment">&lt;!--third checkbox section--&gt;</span>
  <span class="tag">&lt;div <span>data-role="<span>checkbox</span>"</span>&gt;</span>
    <span class="tag">&lt;div <span>checkbox data-color="<span>@#615c988d|lime</span>" data-func="<span>update</span>"</span>&gt;</span>
      <span class="tag">&lt;div <span>marker</span>&gt;&lt;/div&gt;</span>
      <span class="tag">&lt;div <span>marker</span>&gt;&lt;/div&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;input <span>type="<span>checkbox</span>"</span>&gt;</span>
  <span class="tag">&lt;/div&gt;</span>

<span class="tag">&lt;/div&gt;</span>  

<span class="comment">&lt;!-- add some control buttons --&gt;</span>  
<span class="tag">&lt;div <span>class="<span>controls</span>"</span>&gt;</span>
  <span class="tag">&lt;button <span>id="<span>prev</span>"</span>&gt;</span>&amp;#10094;<span class="tag">&lt;/button&gt;</span>
  <span class="tag">&lt;button <span>id="<span>stop</span>"</span>&gt;</span>&amp;#9724;<span class="tag">&lt;/button&gt;</span>
  <span class="tag">&lt;button <span>id="<span>next</span>"</span>&gt;</span>&amp;#10095;<span class="tag">&lt;/button&gt;</span>
  <span class="tag">&lt;input <span>id="<span>switch</span>" type="<span>number</span>" min="<span>1</span>" max="<span>3</span>" placeholder="<span>switch to</span>"</span>&gt;</span>
<span class="tag">&lt;/div&gt;</span>  
</pre>
<pre class="js"><!-- start js -->
<span class="var">let</span> checkbox = <span class="var">new</span> <span class="func">CheckBox(<span class="bool">false</span>)</span>;

<span class="var">checkbox</span> = <span class="var">checkbox</span>.<span class="func">check(<span class="braces">{</span> <span class="key">flip</span>: <span class="val">true</span> <span class="braces">}</span>)</span>;

<span class="comment">/* bind controller buttons & input field */</span>
<span class="var">let</span> prevBtn = <span class="key">document</span>.<span class="func">querySelector(<span class="string">'#prev'</span>)</span>;
<span class="var">let</span> nextBtn = <span class="key">document</span>.<span class="func">querySelector(<span class="string">'#next'</span>)</span>;
<span class="var">let</span> stopBtn = <span class="key">document</span>.<span class="func">querySelector(<span class="string">'#stop'</span>)</span>;
<span class="var">let</span> switchField = <span class="key">document</span>.<span class="func">querySelector(<span class="string">'#switch'</span>)</span>;

<span class="comment">/* fetch the checklist field & add event to controllers*/</span>
<span class="var">let</span> checkList1 = <span class="var">checkbox</span>.<span class="func">checkList(<span class="string">'checklist-1'</span>)</span>

<span class="var">prevBtn</span>.<span class="func">addEventListener(</span><span class="string">'click'</span>, <span class="func">()</span> => {
    <span class="var">checkList1</span>.<span class="key">prev(<span class="val">1000</span>)</span> 
}<span class="func">)</span>

<span class="var">nextBtn</span>.<span class="func">addEventListener(</span><span class="string">'click'</span>, <span class="func">()</span> => {
    <span class="var">checkList1</span>.<span class="key">next(<span class="val">1000</span>)</span> 
}<span class="func">)</span>

<span class="var">stopBtn</span>.<span class="func">addEventListener(</span><span class="string">'click'</span>, <span class="func">()</span> => {
    <span class="var">checkList1</span>.<span class="key">stop()</span> 
}<span class="func">)</span>

<span class="var">switchField</span>.<span class="func">addEventListener(</span><span class="string">'change'</span>, <span class="func">()</span> => {
    <span class="var">checkList1</span>.<span class="key">stop()</span> <span class="comment">/*stop any previous animation*/</span> 
    <span class="var">checkList1</span>.<span class="key">switch(<span class="val"><span class="arg">this</span>.value</span>)</span> 
}<span class="func">)</span>

<span class="var">function</span> <span class="func">update(</span><span class="arg">e</span><span class="func">)</span> <span class="braces">{</span>
  <span class="var">if</span><span class="func">(</span><span class="arg">e</span>.<span class="">checked</span><span class="func">)</span></span> <span class="braces">{</span>
      <span class="comment">/*update the input field*/</span>
      <span class="var">switchField</span>.<span class="key">value</span> = <span class="arg">e</span>.<span class="val">listId</span></span>;
    <span class="braces">}</span>
<span class="braces">}</span>
</pre>  <!-- end js -->
            </div>

            <div class="code">
              <div class="flex">
                  <div class="code-x">
                    <strong>SCREEN</strong>
                    <span class="code-btn"><i class="bi-window"></i></span>
                  </div>
              </div>
              
              <div class="checkbox-wrapper">
                   <!--parent checkbox (group)-->
                <div id="checklist-1" data-role="checkbox-list" data-bind="radio" data-nav="s-prev|s-next|click-1000">
                
                  <!--first checkbox section-->
                  <div data-role="checkbox">
                    <div checkbox data-color="@#615c988d|lime" data-func="update">
                    
                      <div marker class=""></div>
                      <div marker class=""></div>
                      
                    </div>
                    <input type="checkbox">
                  </div> 
                  
                  <!--second checkbox section-->
                  <div data-role="checkbox">
                    <div checkbox data-color="@#615c988d|lime" data-func="update">
                    
                      <div marker class=""></div>
                      <div marker class=""></div>
                      
                    </div>
                    <input type="checkbox">
                  </div>
                  
                  <!--third checkbox section-->
                  <div data-role="checkbox">
                    <div checkbox data-color="@#615c988d|lime" data-func="update">
                    
                      <div marker class=""></div>
                      <div marker class=""></div>
                      
                    </div>
                    <input type="checkbox">
                  </div>
                  
                  <div class="controls">
                    <button id="prev" class="btn-x"><i class="bi-chevron-left"></i></button>
                    <button id="stop" class="btn-z"><i class="bi-stop"></i></button>
                    <button id="next" class="btn-y"><i class="bi-chevron-right"></i></button>
                    <input type="number" id="switch" class="btn-num" placeholder="switch to" min="1" max="3" style="margin-left:4px">
                  </div>
                </div>
                
              </div>
  
            </div> <br>

            <div>
                From the sample above, each controller will affect the response of the custom checkboxes in the checklist. It is important to note that the 
                response of any checklist is dependent upon the value of the <code class="bcr c-note">data-bind</code> attribute. For example the <code class="bcr c-note">data-bind</code> 
                attribute's value set on the checklist html structure above is <code class="bcr c-var">"radio"</code>. Another sample below is one which uses the <code class="bcr c-bool">switch()</code> 
                method to control the state of the checkbox.
            </div> <br>

            
            <div class="code">
              <div class="flex">
                <div class="code-x">
                  <span class="code-btn active" rel="view"><i class="bi-window"></i></span>
                  <span class="code-btn" rel="html">HTML</span>
                  <span class="code-btn" rel="js">JS</span>
                </div>
                <div class="">
                  <span class="copy-btn"><i class="bi-clipboard"></i></span>
                </div>
              </div>  
<pre class="html">  <!-- start html -->
<span class="tag">&lt;div <span>id="<span>checklist-1</span>" data-role="<span>checkbox-list</span>" data-bind="<span>radio</span>"</span>&gt;</span>

  <span class="comment">&lt;!--first checkbox section--&gt;</span>
  <span class="tag">&lt;div <span>data-role="<span>checkbox</span>"</span>&gt;</span>
    <span class="tag">&lt;div <span>checkbox data-color="<span>@#615c988d|lime</span>" data-func="<span>update</span>"</span>&gt;</span>
      <span class="tag">&lt;div <span>marker</span>&gt;&lt;/div&gt;</span>
      <span class="tag">&lt;div <span>marker</span>&gt;&lt;/div&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;input <span>type="<span>checkbox</span>"</span>&gt;</span>
  <span class="tag">&lt;/div&gt;</span> 
  
  <span class="comment">&lt;!--second checkbox section--&gt;</span>
  <span class="tag">&lt;div <span>data-role="<span>checkbox</span>"</span>&gt;</span>
    <span class="tag">&lt;div <span>checkbox data-color="<span>@#615c988d|lime</span>" data-func="<span>update</span>"</span>&gt;</span>
      <span class="tag">&lt;div <span>marker</span>&gt;&lt;/div&gt;</span>
      <span class="tag">&lt;div <span>marker</span>&gt;&lt;/div&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;input <span>type="<span>checkbox</span>"</span>&gt;</span>
  <span class="tag">&lt;/div&gt;</span>
  
  <span class="comment">&lt;!--third checkbox section--&gt;</span>
  <span class="tag">&lt;div <span>data-role="<span>checkbox</span>"</span>&gt;</span>
    <span class="tag">&lt;div <span>checkbox data-color="<span>@#615c988d|lime</span>" data-func="<span>update</span>"</span>&gt;</span>
      <span class="tag">&lt;div <span>marker</span>&gt;&lt;/div&gt;</span>
      <span class="tag">&lt;div <span>marker</span>&gt;&lt;/div&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;input <span>type="<span>checkbox</span>"</span>&gt;</span>
  <span class="tag">&lt;/div&gt;</span>

<span class="tag">&lt;/div&gt;</span>  

<span class="comment">&lt;!-- add some control buttons --&gt;</span>  
<span class="tag">&lt;div <span>class="<span>controls</span>"</span>&gt;</span>
  <span class="tag">&lt;button <span>id="<span>on</span>" class="<span>switch-btn</span>"</span>&gt;</span>on<span class="tag">&lt;/button&gt;</span>
  <span class="tag">&lt;button <span>id="<span>off</span>" class="<span>switch-btn</span>"</span>&gt;</span>off<span class="tag">&lt;/button&gt;</span>
  <span class="tag">&lt;input <span>id="<span>switch</span>" type="<span>number</span>" min="<span>1</span>" max="<span>3</span>"</span>&gt;</span>
<span class="tag">&lt;/div&gt;</span>  
</pre>
<pre class="js"><!-- start js -->
<span class="var">let</span> checkbox = <span class="var">new</span> <span class="func">CheckBox(<span class="bool">false</span>)</span>;

<span class="var">checkbox</span> = <span class="var">checkbox</span>.<span class="func">check(<span class="braces">{</span> <span class="key">flip</span>: <span class="val">true</span> <span class="braces">}</span>)</span>;

<span class="var">let</span> switchBtns = <span class="key">document</span>.<span class="func">querySelectorAll(<span class="string">'.switch-btn'</span>)</span>;

<span class="var">switchBtns</span>.<span class="func">forEach(</span> <span class="arg">switchBtn</span> => <span class="braces">{</span>
  
  <span class="var">let</span> parent = <span class="arg">switchBtn</span>.<span class="func">closest(<span class="string">'.controls'</span>)</span>;
  <span class="var">let</span> checkList = <span class="arg">switchBtn</span>.<span class="func">closest(<span class="string">'[data-role="checkbox-list"]'</span>)</span>
  <span class="var">let</span> checkListID = <span class="var">checkList</span>.<span class="func">getAttribute(<span class="string">'id'</span>)</span>

  <span class="arg">switchBtn</span>.<span class="func">addEventListener(<span class="string">'click'</span>, </span>() => <span class="braces">{</span> 
    
    <span class="var">const</span> inputBtn = <span class="var">parent</span>.<span class="func">querySelector(<span class="string">'input'</span>)</span>;
    <span class="var">const</span> boxIndex = <span class="func">parseInt(<span class="var">inputBtn</span>.<span class="val">value</span>)</span> || <span class="key">0</span>;

    <span class="var">const</span> checkList = <span class="var">checkbox</span>.<span class="func">checkList(<span class="var">checkListID</span>)</span>

    <span class="var">const</span> state = <span class="arg">switchBtn</span>.<span class="func">getAttribute(<span class="string">'id'</span>)</span>;
   
    if( <span class="val">[<span class="string">'on'</span>,<span class="string">'off'</span>]</span>.<span class="func">includes(</span><span class="var">state</span><span class="func">)</span> ) <span class="braces">{</span>

       <span class="comment">/* turn on or off the selected box index*/</span>
       <span class="var">checkList</span>.<span class="func">switch(</span><span class="var">boxIndex</span>, <span class="var">state</span><span class="func">)</span>

    <span class="braces">}</span>

  <span class="braces">}</span><span class="func">)</span>

<span class="braces">}</span><span class="func">)</span> 
</pre>  <!-- end js -->
            </div>            
            <div class="code">
              <div class="flex">
                  <div class="code-x">
                    <strong>SCREEN</strong>
                    <span class="code-btn"><i class="bi-window"></i></span>
                  </div>
              </div>
              
              <div class="checkbox-wrapper">
                   <!--parent checkbox (group)-->
                <div id="switch" data-role="checkbox-list">
                
                  <!--first checkbox section-->
                  <div data-role="checkbox">
                    <div checkbox data-anime="bounceIn" data-assign=":marker2" data-color="@#615c988d|orange" data-flip="true">
                    
                      <div marker class=""></div>
                      <div marker class=""></div>
                      
                    </div>
                    <input type="checkbox">
                  </div> 
                  
                  <!--second checkbox section-->
                  <div data-role="checkbox">
                    <div checkbox data-anime="bounceIn" data-assign=":marker2" data-color="@#615c988d|lime">
                    
                      <div marker class=""></div>
                      <div marker class=""></div>
                      
                    </div>
                    <input type="checkbox">
                  </div>
                  
                  <!--third checkbox section-->
                  <div data-role="checkbox">
                    <div checkbox data-anime="bounceIn" data-assign=":marker2" data-color="@#615c988d|lime">
                    
                      <div marker class=""></div>
                      <div marker class=""></div>
                      
                    </div>
                    <input type="checkbox">
                  </div>
                  
                  <div class="controls specs">
                    <input id="choose" type="number" min="1" max="3" value="1" style="width:60px; padding:8px">
                    <button id="on" class="switch-btn">ON</button>
                    <button id="off" class="switch-btn">OFF</button>
                  </div>
                </div>
                
              </div>
  
            </div> <br> 
                        
            <div class="nav-pane">
              <a href="../docs/checklist-access.html" class="nav-btn-lt">
                <i class="bi-arrow-left-circle"></i> 
              </a> 
              
              <a href="../docs/navigation-buttons.html" class="nav-btn-rt">
                <i class="bi-arrow-right-circle"></i> Navigation Buttons
              </a> 
            </div><br><br><br>

        </section>
        
        <script src="../src/js/docs.js"></script>
        <script>

          // get all navigation controller elements 
          let prevBtn = document.getElementById('prev')
          let nextBtn = document.getElementById('next')
          let stopBtn = document.getElementById('stop')
          let switchField = document.getElementById('switch')

          //fetch the checklist with its unique id value
          let checkList1 = check1.checkList('checklist-1');

          //navigate checkbox with navigation controller elements
          prevBtn.addEventListener('click', function(){
            checkList1.prev(1000);
          })

          nextBtn.addEventListener('click', function(){
            checkList1.next(1000);
          })

          stopBtn.addEventListener('click', function(){
            checkList1.stop();
          })
          
          switchField.addEventListener('change', function(){
            checkList1.stop();
            checkList1.switch(this.value);
          })

          function update(e){
            if(e.checked){
              switchField.value = e.listId;
            }
          }
          
          let switchBtns = document.querySelectorAll('.switch-btn');
          
          switchBtns.forEach( switchBtn => {

            const parent = switchBtn.closest('.controls');
            const checkListID = switchBtn.closest('[data-role="checkbox-list"]').getAttribute('id')

            switchBtn.addEventListener('click', () => { 
              
              const inputBtn = parent.querySelector('input');
              const boxIndex = parseInt(inputBtn.value) || 0;

              const checkList = check1.checkList(checkListID)

              const state = switchBtn.getAttribute('id');
             
              if(['on','off'].includes(state)) {
               checkList.switch(boxIndex, state)
              }

            })
          })
        </script>
        <script src="../src/js/navscript.js"></script>

    </body>
</html>